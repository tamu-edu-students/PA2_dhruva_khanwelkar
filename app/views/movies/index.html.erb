<p style="color: green"><%= notice %></p>

<% content_for :title, "Movies" %>

<h1>Movies</h1>

<div id="movies" class="table-container">
    <table>
      <thead>
      <tr>
        <th ><%= sortable("title", "Title")%></th>
        <th><%= sortable("rating", "Rating") %></th>
        <th><%= sortable("release_date", "Release Date") %></th>
        <th></th>
        
      </tr>
      <thead>

    <tbody>
      <% @movies.each do |movie| %>
      <tr>
        <td><%= movie.title %></td>
        <td><%= movie.rating %></td>
        <td><%= movie.release_date %></td>
        <td>
          <%= link_to "Show this movie", movie_path(movie, sort: params[:sort], direction: params[:direction]) %>
        </td>
      </tr>
    <% end %>
    </tbody>
    </table>
    
</div>

<%# <button>
<%= link_to "New movie", new_movie_path(sort: params[:sort], direction: params[:direction]) 
</button> %>

<%= form_with url: new_movie_path(sort: params[:sort], direction: params[:direction]), method: :get do %>
  <%= hidden_field_tag :sort, params[:sort] %>
  <%= hidden_field_tag :direction, params[:direction] %>
  <%= submit_tag 'New Movie', name: nil,class: 'btn btn-primary' %>
<% end %>
